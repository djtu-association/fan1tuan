<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<!-- 店铺基本管理action -->
	<package name="admin_shop" extends="admin_main" namespace="/admin/shop">

		<action name="index" class="com.fan1tuan.adminshop.ui.struts2.core.AdminShopAction">
			<result name="success" type="freemarker">/WEB-INF/admin_ftls/index.ftl</result>
			<result name="login" type="redirectAction">
				<param name="actionName">signin</param>
				<param name="namespace">/admin/shop</param>
				<param name="message">${message}</param>
			</result>
		</action>

		<action name="signin">
			<result name="success" type="freemarker">/WEB-INF/admin_ftls/signin.ftl</result>
		</action>

		<action name="signup">
			<result name="success" type="freemarker">/WEB-INF/admin_ftls/signup.ftl</result>
		</action>

		<action name="doSignin" class="com.fan1tuan.adminshop.ui.struts2.core.AdminShopAction" method="signin">
			<result name="success" type="redirectAction">
				<param name="actionName">index</param>
				<param name="namespace">/admin/shop</param>
			</result>
			<result name="input" type="redirectAction">
				<param name="actionName">signin</param>
				<param name="namespace">/admin/shop</param>
				<param name="message">${message}</param>
			</result>
		</action>

		<action name="doSignup" class="com.fan1tuan.adminshop.ui.struts2.core.AdminShopAction" method="signup">
			<result name="success" type="redirectAction">
				<param name="actionName">index</param>
				<param name="namespace">/admin/shop</param>
			</result>
			<result name="input" type="redirectAction">
				<param name="actionName">signup</param>
				<param name="namespace">/admin/shop</param>
				<param name="message">${message}</param>
			</result>
		</action>

		<action name="doSignout" class="com.fan1tuan.adminshop.ui.struts2.core.AdminShopAction" method="signout">
			<result name="success" type="redirectAction">
				<param name="actionName">signin</param>
				<param name="namespace">/admin/shop</param>
				<param name="message">${message}</param>
			</result>
		</action>

		<action name="fetchOrder" class="com.fan1tuan.adminshop.ui.struts2.core.AdminShopAction" method="fetchOrder">
			<result name="success" type="jsonResult">order</result>
		</action>

		<action name="updateOrder" class="com.fan1tuan.adminshop.ui.struts2.core.AdminShopAction" method="updateOrder">
			<result name="success" type="jsonResult">
				flag
			</result>
		</action>

		<!--
		<action name="" method="" class="">
			<interceptor-ref name="fileUpload">
                <param name="allowedTypes">
                    image/bmp,image/png,image/gif,image/jpeg,image/jpg
                </param>
                <param name="maximumSize">1024000</param>
            </interceptor-ref>
            
            <interceptor-ref name="defaultStack" />
		    <result name="success" type="redirectAction"></result>
		</action>
		-->

	</package>
	<!-- 临时存放文件的路径 如果不要这个路径，就会在控制台打印Unable to find 'struts.multipart.saveDir'-->
	<constant name="struts.multipart.saveDir" value=""/>
	
</struts>